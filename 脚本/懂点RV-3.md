### 懂点RV - 4.2

阅读模拟器源码

spike：模拟实际代码执行过程中的软硬件行为，提供指令级别的仿真



Spike 模拟器执行二进制可执行文件的流程

- 解码指令
- 对内存 memory 的读写
- 保持寄存器
-  debug 模式，小型的 gdb
- 执行指令
- 其他



### Spike CPU 指令执行

是否有中断请求（处理中断） -> 取指令，指令译码，执行 -> 判断是否有待处理的中断请求



### Spike 存储和 Cache 模型

MMU 有 TLB 和 Cache 缓存页表项，PAGE_SIZE = 4KB

所有核心共用同一组 L1 cache，所以不存在 保持 cache 一致性的问题（多核一致性处理）